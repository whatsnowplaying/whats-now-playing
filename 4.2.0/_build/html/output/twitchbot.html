<!doctype html>
<html class="no-js" lang="en" data-content_root="../">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="../genindex.html" /><link rel="search" title="Search" href="../search.html" /><link rel="next" title="Webserver" href="webserver.html" /><link rel="prev" title="OBS WebSocket Plug-in" href="obswebsocket.html" />

    <!-- Generated with Sphinx 8.2.3 and Furo 2024.08.06 -->
        <title>TwitchBot - What&#39;s Now Playing 4.2.0 [+ 0 changes] documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=8f2a1f02" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?v=354aac6f" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?v=302659d7" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">What's Now Playing 4.2.0 [+ 0 changes] documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../index.html">
  
  
  <span class="sidebar-brand-text">What's Now Playing 4.2.0 [+ 0 changes] documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../quickstart.html">Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="../upgrading.html">Upgrading</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usage.html">Usage</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../settings/index.html">Settings</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of Settings</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../settings/general.html">General</a></li>
<li class="toctree-l2"><a class="reference internal" href="../settings/filter.html">Filter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../settings/quirks.html">Quirks</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../input/index.html">Inputs</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of Inputs</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../input/djuced.html">DJUCED Support</a></li>
<li class="toctree-l2"><a class="reference internal" href="../input/icecast.html">Icecast</a></li>
<li class="toctree-l2"><a class="reference internal" href="../input/jriver.html">JRiver</a></li>
<li class="toctree-l2"><a class="reference internal" href="../input/m3u.html">M3U Support</a></li>
<li class="toctree-l2"><a class="reference internal" href="../input/mpris2.html">MPRIS2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../input/serato.html">Serato</a></li>
<li class="toctree-l2"><a class="reference internal" href="../input/traktor.html">Traktor</a></li>
<li class="toctree-l2"><a class="reference internal" href="../input/virtualdj.html">Virtual DJ</a></li>
<li class="toctree-l2"><a class="reference internal" href="../input/winmedia.html">WinMedia</a></li>
</ul>
</li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="index.html">Outputs</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle navigation of Outputs</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="textoutput.html">Text Output</a></li>
<li class="toctree-l2"><a class="reference internal" href="discord.html">Discord</a></li>
<li class="toctree-l2"><a class="reference internal" href="kickbot.html">KickBot</a></li>
<li class="toctree-l2"><a class="reference internal" href="obswebsocket.html">OBS WebSocket Plug-in</a></li>
<li class="toctree-l2 current current-page"><a class="current reference internal" href="#">TwitchBot</a></li>
<li class="toctree-l2"><a class="reference internal" href="webserver.html">Webserver</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../recognition/index.html">Music Recognition</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle navigation of Music Recognition</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../recognition/generalinfo.html">General Info About Music Recognition</a></li>
<li class="toctree-l2"><a class="reference internal" href="../recognition/acoustidmb.html">AcoustID/MusicBrainz</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../extras/index.html">Artist Extras</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle navigation of Artist Extras</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../extras/generalinfo.html">General Info About Artist Extras</a></li>
<li class="toctree-l2"><a class="reference internal" href="../extras/discogs.html">Discogs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../extras/fanarttv.html">fanart.tv</a></li>
<li class="toctree-l2"><a class="reference internal" href="../extras/theaudiodb.html">TheAudioDB</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../requests.html">User Track Requests</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../help/index.html">Help</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle navigation of Help</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../help/accuracy.html">Improving Accuracy</a></li>
<li class="toctree-l2"><a class="reference internal" href="../help/howdoi.html">How Do I…</a></li>
<li class="toctree-l2"><a class="reference internal" href="../help/troubleshooting.html">Troubleshooting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../help/bugreports.html">Bug Reports and Feature Requests</a></li>
<li class="toctree-l2"><a class="reference internal" href="../help/developers.html">Developers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../help/opensource.html">Open Source</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../reference/index.html">References</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><div class="visually-hidden">Toggle navigation of References</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../reference/templatevariables.html">Templates</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/comparisons.html">Versus Comparisons</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../gallery.html">Gallery of Templates</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contact.html">Contact</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="view-this-page">
  <a class="muted-link" href="../_sources/output/twitchbot.rst.txt" title="View this page">
    <svg><use href="#svg-eye"></use></svg>
    <span class="visually-hidden">View this page</span>
  </a>
</div>
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section id="twitchbot">
<h1>TwitchBot<a class="headerlink" href="#twitchbot" title="Link to this heading">¶</a></h1>
<p><strong>What’s Now Playing</strong> integrates with Twitch with channel point redemptions and/or chat.  They
may be run independently or run both at the same time.</p>
<section id="twitch-chat-support">
<h2>Twitch Chat Support<a class="headerlink" href="#twitch-chat-support" title="Link to this heading">¶</a></h2>
<p>The chat bot support includes track announcement as well as interactive features.</p>
<p>For example, in chat, if the user types:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>!track
</pre></div>
</div>
<p><strong>What’s Now Playing</strong> will read a file called <code class="docutils literal notranslate"><span class="pre">twitchbot_track.txt</span></code> and expand any
template values in it.  The Twitchbot settings section sets permissions
for commands.</p>
<p>Additionally, the Twitchbot can send an announcement template to chat when <strong>What’s Now Playing</strong> detects a song change
or when a track Request has been fulfilled.</p>
</section>
<section id="twitch-channel-point-redemptions">
<h2>Twitch Channel Point Redemptions<a class="headerlink" href="#twitch-channel-point-redemptions" title="Link to this heading">¶</a></h2>
<p>Currently, channel point redemptions allow for users to request songs, either by
artist/title or picking a random song in a ‘roulette’ mode when that redemption
is tied to a supported DJ’s software crate/playlist.  For more information see
<a class="reference external" href="../requests/">Requests</a>.</p>
</section>
<section id="authentication">
<h2>Authentication<a class="headerlink" href="#authentication" title="Link to this heading">¶</a></h2>
<p>You can choose to either use your own account or create a new account for your bot.  It is generally recommended
to create a new account and these instructions are following those guidelines.</p>
<ol class="arabic simple">
<li><p>Follow the Twitch process for creating a new account.</p></li>
<li><p>On the new account, be sure to enable:</p>
<ul class="simple">
<li><p>Multiple logins per email</p></li>
<li><p>Two-factor authentication (2FA)</p></li>
</ul>
</li>
</ol>
<a class="reference external image-reference" href="images/twitchbot-account-settings.png"><img alt="Account Settings for bots" src="../_images/twitchbot-account-settings.png" />
</a>
<ol class="arabic simple">
<li><p>Go to <a class="reference external" href="https://dev.twitch.tv">Twitch Dev Settings</a> to
register <strong>What’s Now Playing</strong>.</p>
<ol class="arabic simple">
<li><p>Click Login in the upper right</p></li>
<li><p>Click on “Your Console” in the upper right</p></li>
<li><p>Click on “Applications”</p></li>
<li><p>Click on “Register Your Application”</p></li>
<li><p>Name: login name used by the bot account</p></li>
<li><p>OAuth Redirect URLs: <a class="reference external" href="http://localhost:17563">http://localhost:17563</a></p></li>
<li><p>Category: Chat Bot</p></li>
<li><p>Create</p></li>
<li><p>Click on “Manage” and save a copy of the Client ID.</p></li>
<li><p>Click on ‘New Secret’. Save a copy of the Client Secret.</p></li>
</ol>
</li>
<li><p>Get an OAuth Token:</p>
<ol class="arabic simple">
<li><p>Go to <a class="reference external" href="http://twitchapps.com/tmi">TMI</a>.</p></li>
<li><p>Authentication</p></li>
<li><p>Copy the Token down</p></li>
</ol>
</li>
<li><p>At the end of this process, you should have four pieces of information:</p></li>
</ol>
<blockquote>
<div><ul class="simple">
<li><p>Your Twitch Stream/Channel:</p></li>
<li><p>Bot’s Client ID:</p></li>
<li><p>Bot’s Client Secret:</p></li>
<li><p>Bot’s Token:</p></li>
</ul>
</div></blockquote>
<ol class="arabic simple">
<li><p>Open Settings from the <strong>What’s Now Playing</strong> icon.</p></li>
<li><p>Select Twitch from the list of settings available.</p></li>
<li><p>Fill in the information in <strong>What’s Now Playing</strong>’s  Twitch setting:</p></li>
</ol>
<a class="reference external image-reference" href="images/twitchbot_auth.png"><img alt="What's Now Playing's Twitch auth panel" src="../_images/twitchbot_auth.png" />
</a>
<p>You will need to provide all four to the Twitchbot Settings.  Additionally,
you should consider making the bot a moderator on your channel to avoid limits,
such as the message posting rate, URL filters, etc.</p>
<p>For certain services, such as channel point redemptions, launching <strong>What’s Now Playing</strong>
will also launch a browser in order to authenticate the bot to <strong>your</strong> channel.  So when it
asks for permission, make sure it is <strong>your</strong> channel and not the bot’s channel and to accept
the things that it wants to access.</p>
</section>
<section id="twitch-chat-configuration">
<h2>Twitch Chat Configuration<a class="headerlink" href="#twitch-chat-configuration" title="Link to this heading">¶</a></h2>
<ol class="arabic simple">
<li><p>Open Settings from the <strong>What’s Now Playing</strong> icon</p></li>
<li><p>Select Twitch Chat from the list of settings available.</p></li>
</ol>
<a class="reference external image-reference" href="images/twitchbot_chat.png"><img alt="Twitch Chat Settings" src="../_images/twitchbot_chat.png" />
</a>
<ol class="arabic simple">
<li><p>Check Enable</p></li>
<li><p>To have the bot announce new tracks in chat, select the template.</p></li>
</ol>
<p>By default, the bot will respond to user commands in the form of Twitch Replies.  If you
would prefer the bot just post a message, uncheck the Replies option.</p>
<p>You are now ready to set permissions on user interactive commands.</p>
<section id="setting-permissions">
<h3>Setting Permissions<a class="headerlink" href="#setting-permissions" title="Link to this heading">¶</a></h3>
<p>Upon launch, <strong>What’s Now Playing</strong> will create an entry for every <cite>twitchbot_*.txt</cite> file
in the template directory.  These entries will all be set to completely disabled.  In order
to enable them, you will need to check the appropriate field.</p>
<p>Twitchbot template files added while <strong>What’s Now Playing</strong> is running will let anyone
use them until the next run.  At the next run, it will again change them back to no permissions
granted.</p>
<p>Once the permissions are set and Save is clicked, those permissions will be preserved on
every restart.</p>
</section>
<section id="adding-new-commands">
<h3>Adding New Commands<a class="headerlink" href="#adding-new-commands" title="Link to this heading">¶</a></h3>
<p>Create a new file in <strong>What’s Now Playing</strong>’s``templates`` directory
(<code class="docutils literal notranslate"><span class="pre">Documents/Now</span> <span class="pre">Playing/template</span></code>) called <code class="docutils literal notranslate"><span class="pre">twitchbot_yourcommand.txt</span></code>
where <code class="docutils literal notranslate"><span class="pre">yourcommand</span></code> is the actual command that will be
executed by users that have the appropriate template code inside it.
Note that all text will be smashed together as a single line when sent to Twitch, so
be mindful of where to put spaces.</p>
</section>
<section id="built-in-commands">
<h3>Built-in Commands<a class="headerlink" href="#built-in-commands" title="Link to this heading">¶</a></h3>
<p>Post-v3.0.2, the Twitchbot will always respond to the command ‘whatsnowplayingversion’ . It
will report the version that is running.</p>
</section>
<section id="troubleshooting">
<h3>Troubleshooting<a class="headerlink" href="#troubleshooting" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>To test if the chat bot is working, you should be able to use the ‘!whatsnowplayingversion’
command.  <strong>What’s Now Playing</strong> only needs to be running.  You do not have to be live
streaming to test chat.</p></li>
<li><p>If the bot never connects, try getting a new OAuth token.</p></li>
<li><p>Be aware that the bot may have trouble connecting if you restart <strong>What’s Now Playing</strong> too
quickly.  It should eventually rejoin, but it may take several minutes.</p></li>
</ul>
</section>
<section id="additional-variables">
<h3>Additional Variables<a class="headerlink" href="#additional-variables" title="Link to this heading">¶</a></h3>
<p>The TwitchBot adds the following additional values for templating purposes:</p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Variable</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>cmduser</p></td>
<td><p>Person, bot, etc that typed the command</p></td>
</tr>
<tr class="row-odd"><td><p>cmdtarget[x]</p></td>
<td><p>The x’th target on the command, starting with 0.  For example, if the command was <cite>!so modernmeerkat</cite>,
then <cite>{{ cmdtarget[0] }}</cite> will have <cite>modernmeerkat</cite> in it. See below for an example.</p></td>
</tr>
<tr class="row-even"><td><p>startnewmessage</p></td>
<td><p>Split the text at this location and start a new message to send to chat.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="multiple-targets">
<h3>Multiple Targets<a class="headerlink" href="#multiple-targets" title="Link to this heading">¶</a></h3>
<p>One of the more advanced capabilities that the TwitchBot supports is a variable number of targets.  This feature
allows for your users to use one command to perform actions on, for example, multiple users.</p>
<p>A simple example. Given this template file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">@</span><span class="p">{{</span> <span class="n">cmduser</span> <span class="p">}}</span> <span class="n">hugs</span> <span class="o">@</span><span class="p">{{</span> <span class="n">cmdtarget</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="p">}}</span>
</pre></div>
</div>
<p>a user typing:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>modernmeerkat: !hug twitch
</pre></div>
</div>
<p>Would result in:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">bot</span><span class="p">:</span> <span class="nd">@modernmeerkat</span> <span class="n">hugs</span> <span class="nd">@twitch</span>
</pre></div>
</div>
<p>But this can be expanded to do multiple users at once:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">@</span><span class="p">{{</span> <span class="n">cmduser</span> <span class="p">}}</span> <span class="n">sends</span> <span class="n">hugs</span> <span class="n">to</span> <span class="p">{</span><span class="o">%</span> <span class="k">for</span> <span class="n">people</span> <span class="ow">in</span> <span class="n">cmdtarget</span> <span class="o">%</span><span class="p">}</span><span class="o">@</span><span class="p">{{</span> <span class="n">people</span> <span class="p">}}</span> <span class="p">{</span><span class="o">%</span> <span class="n">endfor</span> <span class="o">%</span><span class="p">}</span>
</pre></div>
</div>
<p>such that:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>modernmeerkat: !hug person1 person2 person3
</pre></div>
</div>
<p>results in:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">bot</span><span class="p">:</span> <span class="nd">@modernmeerkat</span> <span class="n">sends</span> <span class="n">hugs</span> <span class="n">to</span> <span class="nd">@person1</span> <span class="nd">@person2</span> <span class="nd">@person3</span>
</pre></div>
</div>
</section>
<section id="announcing-websites">
<h3>Announcing Websites<a class="headerlink" href="#announcing-websites" title="Link to this heading">¶</a></h3>
<p>You may want to add support for announcing the website data as part of the Twitchbot
track announcement.  You can pick and choose which websites are printed by taking
the following code snippet and modifying as necessary:</p>
<div class="highlight-jinja notranslate"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">if</span> <span class="nv">artistwebsites</span> <span class="cp">%}</span>
<span class="cp">{%</span> <span class="k">for</span> <span class="nv">website</span> <span class="k">in</span> <span class="nv">artistwebsites</span> <span class="cp">%}</span>
<span class="cp">{%</span> <span class="k">if</span> <span class="s1">&#39;bandcamp&#39;</span> <span class="k">in</span> <span class="nv">website</span> <span class="cp">%}</span><span class="x"> |Bandcamp: </span><span class="cp">{{</span> <span class="nv">website</span> <span class="cp">}}</span>
<span class="cp">{%</span> <span class="k">elif</span> <span class="s1">&#39;discogs&#39;</span> <span class="k">in</span> <span class="nv">website</span> <span class="cp">%}</span><span class="x"> | Discogs: </span><span class="cp">{{</span> <span class="nv">website</span> <span class="cp">}}</span>
<span class="cp">{%</span> <span class="k">elif</span> <span class="s1">&#39;facebook&#39;</span> <span class="k">in</span> <span class="nv">website</span> <span class="cp">%}</span><span class="x"> | Facebook: </span><span class="cp">{{</span> <span class="nv">website</span> <span class="cp">}}</span>
<span class="cp">{%</span> <span class="k">elif</span> <span class="s1">&#39;instagram&#39;</span> <span class="k">in</span> <span class="nv">website</span> <span class="cp">%}</span><span class="x"> | IG: </span><span class="cp">{{</span> <span class="nv">website</span> <span class="cp">}}</span>
<span class="cp">{%</span> <span class="k">elif</span> <span class="s1">&#39;last.fm&#39;</span> <span class="k">in</span> <span class="nv">website</span> <span class="cp">%}</span><span class="x"> | last.fm: </span><span class="cp">{{</span> <span class="nv">website</span> <span class="cp">}}</span>
<span class="cp">{%</span> <span class="k">elif</span> <span class="s1">&#39;musicbrainz&#39;</span> <span class="k">in</span> <span class="nv">website</span> <span class="cp">%}</span><span class="x"> | MusicBrainz: </span><span class="cp">{{</span> <span class="nv">website</span> <span class="cp">}}</span>
<span class="cp">{%</span> <span class="k">elif</span> <span class="s1">&#39;twitter&#39;</span> <span class="k">in</span> <span class="nv">website</span> <span class="cp">%}</span><span class="x"> | Twitter: </span><span class="cp">{{</span> <span class="nv">website</span> <span class="cp">}}</span>
<span class="cp">{%</span> <span class="k">elif</span> <span class="s1">&#39;wikipedia&#39;</span> <span class="k">in</span> <span class="nv">website</span> <span class="cp">%}</span><span class="x"> | Wikipedia: </span><span class="cp">{{</span> <span class="nv">website</span> <span class="cp">}}</span>
<span class="cp">{%</span> <span class="k">elif</span> <span class="s1">&#39;youtube&#39;</span> <span class="k">in</span> <span class="nv">website</span> <span class="cp">%}</span><span class="x"> | YouTube: </span><span class="cp">{{</span> <span class="nv">website</span> <span class="cp">}}</span>
<span class="cp">{%</span> <span class="k">else</span> <span class="cp">%}</span><span class="x"> | Official homepage: </span><span class="cp">{{</span> <span class="nv">website</span> <span class="cp">}}</span>
<span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span>
<span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span>
<span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span>
</pre></div>
</div>
</section>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="webserver.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Webserver</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="obswebsocket.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">OBS WebSocket Plug-in</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2021-2025, Allen Wittenauer
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">TwitchBot</a><ul>
<li><a class="reference internal" href="#twitch-chat-support">Twitch Chat Support</a></li>
<li><a class="reference internal" href="#twitch-channel-point-redemptions">Twitch Channel Point Redemptions</a></li>
<li><a class="reference internal" href="#authentication">Authentication</a></li>
<li><a class="reference internal" href="#twitch-chat-configuration">Twitch Chat Configuration</a><ul>
<li><a class="reference internal" href="#setting-permissions">Setting Permissions</a></li>
<li><a class="reference internal" href="#adding-new-commands">Adding New Commands</a></li>
<li><a class="reference internal" href="#built-in-commands">Built-in Commands</a></li>
<li><a class="reference internal" href="#troubleshooting">Troubleshooting</a></li>
<li><a class="reference internal" href="#additional-variables">Additional Variables</a></li>
<li><a class="reference internal" href="#multiple-targets">Multiple Targets</a></li>
<li><a class="reference internal" href="#announcing-websites">Announcing Websites</a></li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="../_static/documentation_options.js?v=71fb1c23"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/scripts/furo.js?v=5fa4622c"></script>
    </body>
</html>